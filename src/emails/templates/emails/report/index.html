
{% extends 'emails/header.html' %}


{% block content %}

<div class="page">
    <div class="page__demo">
      <div class="main-container page__container">
        <center><h1>{{project_name}} Report In {{yesterday}} ~ {{today}}</h1></center>
        <table class="table">
            <thead class="table__thead">
              <tr class="table__head">
                <th class="table__th">User Name</th>
                <th class="table__th">Role</th>
                <th class="table__th">Create Time</th>
                <th class="table__th">Login Time</th>
                <th class="table__th">Coupon Code</th>
                <th class="table__th">Correct Answered Questions</th>
                <th class="table__th">Wrong Answered Questions</th>
              </tr>
            </thead>
            <tbody class="table__tbody">
                {% for userHistory in userHistories %}
                <tr class="table__tr">
                    <td class="table__td table__mobile-title">
                        <span>{{userHistory.username}}</span>
                    </td>
                    <td class="table__td">
                        <span class="table__mobile-caption">Role</span>
                        <span class="table__value">{{userHistory.profile.role}}</span>
                    </td>
                    <td class="table__td">
                        <span class="table__mobile-caption">Create Time</span>
                        <span class="table__value">{{userHistory.create_timestamp|date:'Y-m-d H:i'}}</span>
                    </td>
                    <td class="table__td">
                        <span class="table__mobile-caption">Login Time</span>
                        <span class="table__value">{{userHistory.last_login|date:'Y-m-d H:i'}}</span>
                    </td>
                    <td class="table__td">
                        <span class="table__mobile-caption">Coupon Code</span>
                        <span class="table__value">{{userHistory.student.guardianstudentplan.order_detail.order.discount_code.id}}</span>
                    </td>
                    <td class="table__td">
                        <span class="table__mobile-caption">Correct Answered Questions</span>
                        <span class="table__value">{{userHistory.num_correct_questions}}</span>
                    </td>
                    <td class="table__td">
                        <span class="table__mobile-caption">Wrong Answered Questions</span>
                        <span class="table__value">{{userHistory.num_wrong_questions}}</span>
                    </td>
                </tr>
                {% endfor %}
              
            </tbody>
        </table>

        <table class="table">
          <thead class="table__thead">
            <tr class="table__head">
              <th class="table__th">Type</th>
              <th class="table__th">User</th>
              <th class="table__th">Amount</th>
              <th class="table__th">Subscription ID</th>
              <th class="table__th">Card Number</th>
              <th class="table__th">Message</th>
            </tr>
          </thead>
          <tbody class="table__tbody">
            {% for paymentHistory in paymentHistories %}
            <tr class="table__tr">
                <td class="table__td table__mobile-title">
                  <span>{{paymentHistory.type}}</span>
                </td>
                <td class="table__td">
                  <span class="table__mobile-caption">User</span>
                  <span class="table__value">{{paymentHistory.user}}</span>
                </td>
                <td class="table__td">
                  <span class="table__mobile-caption">Amount</span>
                  <span class="table__value">{{paymentHistory.amount}}</span>
                </td>
                <td class="table__td">
                  <span class="table__mobile-caption">Subscription Id</span>
                  <span class="table__value">{{paymentHistory.subscription_id}}</span>
                </td>
                <td class="table__td">
                    <span class="table__mobile-caption">Card Number</span>
                    <span class="table__value">{{paymentHistory.card_number}}</span>
                </td>
                <td class="table__td">
                    <span class="table__mobile-caption">Message</span>
                    <span class="table__value">{{paymentHistory.message}}</span>
                </td>
            </tr>
            {% endfor %}
            
          </tbody>
        </table>
      </div>
    </div>
  </div>
{% endblock %}
